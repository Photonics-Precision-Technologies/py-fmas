
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_tutorials/step_by_step/g_raman_response.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_tutorials_step_by_step_g_raman_response.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_tutorials_step_by_step_g_raman_response.py:


Using a specific Raman response function
========================================

This examples shows how one of the more specific Raman response functions,
implemented in modeule `raman_response`, can be used with the class
:class:`FMAS_S_Raman`.

In particular, this example shows how a Lin-Agrawal type Raman response model
can be used with the above :math:`z`-propagation model.

References:
    [1] Q. Lin, G. P. Agrawal, Raman response function for silica fibers,
    Optics Letters, 31 (2006) 3086, https://doi.org/10.1364/JOSAB.6.001159.

.. codeauthor:: Oliver Melchert <melchert@iqo.uni-hannover.de>

.. GENERATED FROM PYTHON SOURCE LINES 18-46

.. code-block:: default

    import fmas
    import numpy as np
    from fmas.models import CustomModelPCF
    from fmas.config import FTFREQ, FT, IFT
    from fmas.solver import IFM_RK4IP
    from fmas.analytic_signal import AS
    from fmas.grid import Grid
    from fmas.tools import plot_evolution

    # -- DEFINE SIMULATION PARAMETERS
    # ... COMPUTATIONAL DOMAIN
    t_max = 3500.       # (fs)
    t_num = 2**14       # (-)
    z_max = 0.10*1e6    # (micron)
    z_num = 8000        # (-)
    z_skip = 10         # (-)
    # ... INITIAL CONDITION
    P0 = 1e4            # (W)
    t0 = 28.4           # (fs)
    w0 = 2.2559         # (rad/fs)
    E_0t_fun = lambda t: np.real(np.sqrt(P0)/np.cosh(t/t0)*np.exp(-1j*w0*t))

    # -- INITIALIZATION STAGE
    # ... COMPUTATIONAL DOMAIN
    grid = Grid( t_max = t_max, t_num = t_num, z_max = z_max, z_num = z_num)
    # ... CUSTOM PROPAGATION MODEL
    model = CustomModelPCF(w=grid.w)








.. GENERATED FROM PYTHON SOURCE LINES 47-53

To use a Raman response function different from the default, we simply import
the desired model from the module `raman_response`.  We here opt to use a
Lin-Agrawal type Raman response, which is implemented as function `h_LA`. The
function can be used to simply overwrite the default response function as
shown below. If a different value for the fractional Raman contribution is
needed, the corresponding class attribute can be overwritten as well:

.. GENERATED FROM PYTHON SOURCE LINES 53-72

.. code-block:: default


    # -- Imports Lin-Agrawal type response function
    from fmas.raman_response import h_LA

    model.hRw = h_LA(grid.t) # overwrite default resonse function
    model.fR = 0.18          # overwrite default fractional Raman response if needed


    # ... PROPAGATION ALGORITHM 
    solver = IFM_RK4IP( model.Lw, model.Nw, user_action = model.claw)
    solver.set_initial_condition( grid.w, AS(E_0t_fun(grid.t)).w_rep)

    # -- RUN SIMULATION
    solver.propagate( z_range = z_max, n_steps = z_num, n_skip = z_skip)

    # -- SHOW RESULTS
    plot_evolution( solver.z, grid.t, solver.utz,
        t_lim = (-500,2200), w_lim = (1.,4.), DO_T_LOG = False)




.. image:: /auto_tutorials/step_by_step/images/sphx_glr_g_raman_response_001.png
    :alt: $|u|^2/{\rm{max}}\left(|u|^2\right)$, $|u_\omega|^2/{\rm{max}}\left(|u_\omega|^2\right)$
    :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 1 minutes  6.218 seconds)


.. _sphx_glr_download_auto_tutorials_step_by_step_g_raman_response.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: g_raman_response.py <g_raman_response.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: g_raman_response.ipynb <g_raman_response.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
